<?xml version="1.0" encoding="UTF-8"?>
<mdd:Scenario
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:mdd="se.studieren.mdd.transformer.ScenarioTable"
    xsi:schemaLocation="se.studieren.mdd.transformer.ScenarioTable ../ScenarioTable.ecore">
  <communication
      xsi:type="mdd:SystemCommunication"
      prestate="//@state.0"
      poststate="//@state.0">
    <returned
        xsi:type="mdd:VoidValue"/>
    <systemmessage
        name="enterPassword"
        sender="//@actor.0"
        receiver="//@actor.1">
      <operation
          name="enterPassword"/>
    </systemmessage>
  </communication>
  <communication
      xsi:type="mdd:SystemCommunication"
      prestate="//@state.1"
      poststate="//@state.1">
    <returned
        xsi:type="mdd:Value"
        value="badPassword"/>
    <systemmessage
        name="verifyAccount"
        sender="//@actor.1"
        receiver="//@actor.2">
      <operation
          name="verifyAccount"/>
    </systemmessage>
  </communication>
  <communication
      xsi:type="mdd:SystemCommunication"
      prestate="//@state.2"
      poststate="//@state.2">
    <returned
        xsi:type="mdd:Value"
        value="badBankPassword"/>
    <systemmessage
        name="verifyCardWithBank"
        sender="//@actor.2"
        receiver="//@actor.3">
      <operation
          name="verifyCardWithBank"/>
    </systemmessage>
  </communication>
  <communication
      xsi:type="mdd:UserCommunication">
    <usermessage
        name="requestPassword"
        sender="//@actor.1"
        receiver="//@actor.0">
      <operation
          name="requestPassword"/>
    </usermessage>
    <returned
        xsi:type="mdd:VoidValue"/>
  </communication>
  <communication
      xsi:type="mdd:SystemCommunication"
      prestate="//@state.0"
      poststate="//@state.3">
    <returned
        xsi:type="mdd:VoidValue"/>
    <systemmessage
        name="cancel"
        sender="//@actor.0"
        receiver="//@actor.1">
      <operation
          name="cancel"/>
    </systemmessage>
  </communication>
  <communication
      xsi:type="mdd:UserCommunication">
    <usermessage
        name="canceledMessage"
        sender="//@actor.1"
        receiver="//@actor.0">
      <operation
          name="canceledMessage"/>
    </usermessage>
    <returned
        xsi:type="mdd:VoidValue"/>
  </communication>
  <communication
      xsi:type="mdd:UserCommunication">
    <usermessage
        name="ejectCard"
        sender="//@actor.1"
        receiver="//@actor.0">
      <operation
          name="ejectCard"/>
    </usermessage>
    <returned
        xsi:type="mdd:VoidValue"/>
  </communication>
  <communication
      xsi:type="mdd:UserCommunication">
    <usermessage
        name="requestTakeCard"
        sender="//@actor.1"
        receiver="//@actor.0">
      <operation
          name="requestTakeCard"/>
    </usermessage>
    <returned
        xsi:type="mdd:VoidValue"/>
  </communication>
  <state name="WaitPassword"/>
  <state name="WaitVerify"/>
  <state name="WaitBankVerify"/>
  <state name="WaitTakeCard"/>
  <actor xsi:type="mdd:User"/>
  <actor xsi:type="mdd:SystemObject"
      name="atm"/>
  <actor xsi:type="mdd:SystemObject"
      name="consortium"/>
  <actor xsi:type="mdd:SystemObject"
      name="bank"/>
</mdd:Scenario>
