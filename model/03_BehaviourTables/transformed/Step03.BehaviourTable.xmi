<?xml version="1.0" encoding="UTF-8"?>
<mdd:BehaviourTablePackage xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:mdd="se.studieren.mdd.transformer.BehaviourTablePackage" xmlns:mdd_1="se.studieren.mdd.transformer.BehaviourTable" xsi:schemaLocation="se.studieren.mdd.transformer.BehaviourTablePackage ../BehaviourTablePackage.ecore se.studieren.mdd.transformer.BehaviourTable ../BehaviourTable.ecore">
  <behaviour>
    <block preState="//@behaviour.0/@state.0" postState="//@behaviour.0/@state.1">
      <inmessage>
        <operation name="insertCard"/>
      </inmessage>
      <activation>
        <outmessages>
          <actorobject xsi:type="mdd_1:User"/>
          <operation name="requestPassword"/>
          <returnvalue xsi:type="mdd_1:VoidValue"/>
        </outmessages>
        <returnvalue xsi:type="mdd_1:VoidValue"/>
      </activation>
    </block>
    <block preState="//@behaviour.0/@state.1" postState="//@behaviour.0/@state.2">
      <inmessage>
        <operation name="enterPassword"/>
      </inmessage>
      <activation>
        <outmessages>
          <actorobject xsi:type="mdd_1:SystemObject" name="consortium"/>
          <operation name="verifyAccount"/>
          <returnvalue xsi:type="mdd_1:Value" value="badAccount"/>
        </outmessages>
        <outmessages>
          <actorobject xsi:type="mdd_1:User"/>
          <operation name="badAccountMessage"/>
          <returnvalue xsi:type="mdd_1:VoidValue"/>
        </outmessages>
        <outmessages>
          <actorobject xsi:type="mdd_1:User"/>
          <operation name="printReceipt"/>
          <returnvalue xsi:type="mdd_1:VoidValue"/>
        </outmessages>
        <outmessages>
          <actorobject xsi:type="mdd_1:User"/>
          <operation name="ejectCard"/>
          <returnvalue xsi:type="mdd_1:VoidValue"/>
        </outmessages>
        <outmessages>
          <actorobject xsi:type="mdd_1:User"/>
          <operation name="requestTakeCard"/>
          <returnvalue xsi:type="mdd_1:VoidValue"/>
        </outmessages>
        <returnvalue xsi:type="mdd_1:VoidValue"/>
      </activation>
    </block>
    <block preState="//@behaviour.0/@state.2" postState="//@behaviour.0/@state.0">
      <inmessage>
        <operation name="takeCard"/>
      </inmessage>
      <activation>
        <outmessages>
          <actorobject xsi:type="mdd_1:User"/>
          <operation name="displayMainScreen"/>
          <returnvalue xsi:type="mdd_1:VoidValue"/>
        </outmessages>
        <returnvalue xsi:type="mdd_1:VoidValue"/>
      </activation>
    </block>
    <systemobject name="atm"/>
    <state name="WaitCard"/>
    <state name="WaitPassword"/>
    <state name="WaitTakeCard"/>
  </behaviour>
  <behaviour>
    <block preState="//@behaviour.1/@state.0" postState="//@behaviour.1/@state.0">
      <inmessage>
        <operation name="verifyAccount"/>
      </inmessage>
      <activation>
        <outmessages>
          <actorobject xsi:type="mdd_1:SystemObject" name="bank"/>
          <operation name="verifyCardWithBank"/>
          <returnvalue xsi:type="mdd_1:Value" value="badBankAccount"/>
        </outmessages>
        <returnvalue xsi:type="mdd_1:Value" value="badAccount"/>
      </activation>
    </block>
    <systemobject name="consortium"/>
    <state name="WaitVerify"/>
  </behaviour>
  <behaviour>
    <block preState="//@behaviour.2/@state.0" postState="//@behaviour.2/@state.0">
      <inmessage>
        <operation name="verifyCardWithBank"/>
      </inmessage>
      <activation>
        <returnvalue xsi:type="mdd_1:Value" value="badBankAccount"/>
      </activation>
    </block>
    <systemobject name="bank"/>
    <state name="WaitBankVerify"/>
  </behaviour>
  <behaviour>
    <block preState="//@behaviour.3/@state.0" postState="//@behaviour.3/@state.0">
      <inmessage>
        <operation name="enterPassword"/>
      </inmessage>
      <activation>
        <outmessages>
          <actorobject xsi:type="mdd_1:SystemObject" name="consortium"/>
          <operation name="verifyAccount"/>
          <returnvalue xsi:type="mdd_1:Value" value="badPassword"/>
        </outmessages>
        <outmessages>
          <actorobject xsi:type="mdd_1:User"/>
          <operation name="requestPassword"/>
          <returnvalue xsi:type="mdd_1:VoidValue"/>
        </outmessages>
        <returnvalue xsi:type="mdd_1:VoidValue"/>
      </activation>
    </block>
    <block preState="//@behaviour.3/@state.0" postState="//@behaviour.3/@state.1">
      <inmessage>
        <operation name="cancel"/>
      </inmessage>
      <activation>
        <outmessages>
          <actorobject xsi:type="mdd_1:User"/>
          <operation name="canceledMessage"/>
          <returnvalue xsi:type="mdd_1:VoidValue"/>
        </outmessages>
        <outmessages>
          <actorobject xsi:type="mdd_1:User"/>
          <operation name="ejectCard"/>
          <returnvalue xsi:type="mdd_1:VoidValue"/>
        </outmessages>
        <outmessages>
          <actorobject xsi:type="mdd_1:User"/>
          <operation name="requestTakeCard"/>
          <returnvalue xsi:type="mdd_1:VoidValue"/>
        </outmessages>
        <returnvalue xsi:type="mdd_1:VoidValue"/>
      </activation>
    </block>
    <systemobject name="atm"/>
    <state name="WaitPassword"/>
    <state name="WaitTakeCard"/>
  </behaviour>
  <behaviour>
    <block preState="//@behaviour.4/@state.0" postState="//@behaviour.4/@state.0">
      <inmessage>
        <operation name="verifyAccount"/>
      </inmessage>
      <activation>
        <outmessages>
          <actorobject xsi:type="mdd_1:SystemObject" name="bank"/>
          <operation name="verifyCardWithBank"/>
          <returnvalue xsi:type="mdd_1:Value" value="badBankPassword"/>
        </outmessages>
        <returnvalue xsi:type="mdd_1:Value" value="badPassword"/>
      </activation>
    </block>
    <systemobject name="consortium"/>
    <state name="WaitVerify"/>
  </behaviour>
  <behaviour>
    <block preState="//@behaviour.5/@state.0" postState="//@behaviour.5/@state.0">
      <inmessage>
        <operation name="verifyCardWithBank"/>
      </inmessage>
      <activation>
        <returnvalue xsi:type="mdd_1:Value" value="badBankPassword"/>
      </activation>
    </block>
    <systemobject name="bank"/>
    <state name="WaitBankVerify"/>
  </behaviour>
</mdd:BehaviourTablePackage>
