<?xml version="1.0" encoding="UTF-8"?>
<behaviour:Behaviour
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:behaviour="http://www.example.org/behaviour"
    xsi:schemaLocation="http://www.example.org/behaviour ../behaviour.ecore">
  <block>
    <preState
        name="WaitCard"/>
    <postState
        name="WaitPassword"/>
    <inmessage>
      <operation
          name="insertCard"/>
    </inmessage>
    <activation>
      <outmessages>
        <object
            xsi:type="behaviour:User"/>
        <operation
            name="requestPassword"/>
        <returned
            xsi:type="behaviour:VoidValue"/>
      </outmessages>
      <returned
          xsi:type="behaviour:VoidValue"/>
    </activation>
  </block>
  <block>
    <preState
        name="WaitPassword"/>
    <postState
        name="WaitTakeCard"/>
    <inmessage>
      <operation
          name="enterPassword"/>
    </inmessage>
    <activation>
      <outmessages>
        <object
            xsi:type="behaviour:SystemObject"
            name="consortium"/>
        <operation
            name="verifyAccount"/>
        <returned
            xsi:type="behaviour:Value"
            value="badAccount"/>
      </outmessages>
      <outmessages>
        <object
            xsi:type="behaviour:User"/>
        <operation
            name="badAccountMessage"/>
        <returned
            xsi:type="behaviour:VoidValue"/>
      </outmessages>
      <outmessages>
        <object
            xsi:type="behaviour:User"/>
        <operation
            name="printReceipt"/>
        <returned
            xsi:type="behaviour:VoidValue"/>
      </outmessages>
      <outmessages>
        <object
            xsi:type="behaviour:User"/>
        <operation
            name="ejectCard"/>
        <returned
            xsi:type="behaviour:VoidValue"/>
      </outmessages>
      <outmessages>
        <object
            xsi:type="behaviour:User"/>
        <operation
            name="requestTakeCard"/>
        <returned
            xsi:type="behaviour:VoidValue"/>
      </outmessages>
      <returned
          xsi:type="behaviour:VoidValue"/>
    </activation>
  </block>
  <block>
    <preState
        name="WaitTakeCard"/>
    <postState
        name="WaitCard"/>
    <inmessage>
      <operation
          name="takeCard"/>
    </inmessage>
    <activation>
      <outmessages>
        <object
            xsi:type="behaviour:User"/>
        <operation
            name="displayMainScreen"/>
        <returned
            xsi:type="behaviour:VoidValue"/>
      </outmessages>
      <returned
          xsi:type="behaviour:VoidValue"/>
    </activation>
  </block>
  <systemobject
      name="atm"/>
</behaviour:Behaviour>
